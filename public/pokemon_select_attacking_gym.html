<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Pokemon Highscores">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon Attacking Gym</title>


  <!-- Material Design Lite -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
  <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>

  <!-- App Styling -->
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

  <script>

    socket= new WebSocket('ws://localhost:9001/');

    var attackingGym = getQueryVariable('attacking_gym');

    socket.onmessage= function(s) {
      window.location.href='pokemon_select_defending_gym.html?attacking_gym='+ attackingGym + '&defending_gym='+s.data;
    };

    function getQueryVariable(variable) {
    	var query = window.location.search.substring(1);
    	var vars = query.split("&");
    	for (var i=0;i<vars.length;i++) {
    		var pair = vars[i].split("=");
    		if(pair[0] == variable){return pair[1];}
    	}
    	return(false);
    }

  </script>

  <audio autoplay="autoplay" loop="loop" >
      <source src="audio/114-trainer appears.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
 <header>
   <h1>Gotta Battle 'Em All</h1>
   <p class="pre">Attacking gym</div></p>
  </header>

  <main>
        <div id="gym_tag"></div>
        <div id="welcome_team">

        </div>
        <div>
            <div id="deck">
            </div>
        </div>
        <div id="ref_to_index">
            <a href="/index.html">
              <img src="images/cancel.png" alt="To the attacking gym" style="width:100px;height:100px;border:0;">
            </a>
        </div>
  </main>


<!-- Import and configure the Firebase SDK -->
<!-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
<!-- If you do not want to serve/host your project using Firebase Hosting see https://firebase.google.com/docs/web/setup -->
<script src="/__/firebase/7.6.2/firebase-app.js"></script>
<script src="/__/firebase/7.6.2/firebase-auth.js"></script>
<script src="/__/firebase/7.6.2/firebase-storage.js"></script>
<script src="/__/firebase/7.6.2/firebase-messaging.js"></script>
<script src="/__/firebase/7.6.2/firebase-firestore.js"></script>
<script src="/__/firebase/7.6.2/firebase-performance.js"></script>
<script src="/__/firebase/init.js"></script>

<script src="scripts/pokemon_select_attacking_team.js"></script>
</body>
</html>
